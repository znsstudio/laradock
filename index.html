<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>LaraDock by LaraDock</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">LaraDock</h1>
      <h2 class="project-tagline">Like Laravel Homestead but for Docker instead of Vagrant.</h2>
      <a href="https://github.com/LaraDock/laradock" class="btn">View on GitHub</a>
      <a href="https://github.com/LaraDock/laradock/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/LaraDock/laradock/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="laradock" class="anchor" href="#laradock" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LaraDock</h1>

<p><a href="http://zalt.me"><img src="http://forthebadge.com/images/badges/built-by-developers.svg" alt="forthebadge"></a></p>

<p><a href="https://gitter.im/LaraDock/laradock?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge"><img src="https://badges.gitter.im/LaraDock/laradock.svg" alt="Gitter"></a></p>

<p>LaraDock helps you run your <strong>Laravel</strong> App on <strong>Docker</strong> real quick.
<br>
It's like Laravel Homestead but for Docker instead of Vagrant.</p>

<blockquote>
<p>With LaraDock, use Docker first and learn about it later.</p>
</blockquote>

<p><img src="https://s31.postimg.org/nbettdki3/lara_dock_poster_new.jpg" alt=""></p>

<p><br></p>

<h2>
<a id="contents" class="anchor" href="#contents" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contents</h2>

<ul>
<li>
<a href="#">Readme Languages</a>

<ul>
<li><a href="#">English (Default)</a></li>
<li><a href="https://github.com/LaraDock/laradock/blob/master/README-zh.md">Chinese</a></li>
</ul>
</li>
<li>
<a href="#Intro">Intro</a>

<ul>
<li><a href="#features">Features</a></li>
<li><a href="#Supported-Containers">Supported Software</a></li>
<li><a href="#what-is-docker">What is Docker</a></li>
<li><a href="#what-is-laravel">What is Laravel</a></li>
<li><a href="#why-docker-not-vagrant">Why Docker not Vagrant</a></li>
<li><a href="#laradock-vs-homestead">LaraDock VS Homestead</a></li>
</ul>
</li>
<li><a href="#Demo">Demo Video</a></li>
<li><a href="#Requirements">Requirements</a></li>
<li><a href="#Installation">Installation</a></li>
<li><a href="#Usage">Usage</a></li>
<li>
<a href="#Documentation">Documentation</a>

<ul>
<li>
<a href="#Docker">Docker</a>

<ul>
<li><a href="#List-current-running-Containers">List current running Containers</a></li>
<li><a href="#Close-all-running-Containers">Close all running Containers</a></li>
<li><a href="#Delete-all-existing-Containers">Delete all existing Containers</a></li>
<li><a href="#Enter-Container">Enter a Container (SSH into a running Container)</a></li>
<li><a href="#Edit-Container">Edit default container configuration</a></li>
<li><a href="#Edit-a-Docker-Image">Edit a Docker Image</a></li>
<li><a href="#Build-Re-build-Containers">Build/Re-build Containers</a></li>
<li><a href="#Add-Docker-Images">Add more Software (Docker Images)</a></li>
<li><a href="#View-the-Log-files">View the Log files</a></li>
</ul>
</li>
<li>
<a href="#Laravel">Laravel</a>:

<ul>
<li><a href="#Install-Laravel">Install Laravel from a Docker Container</a></li>
<li><a href="#Run-Artisan-Commands">Run Artisan Commands</a></li>
<li><a href="#Use-Redis">Use Redis</a></li>
<li><a href="#Use-Mongo">Use Mongo</a></li>
<li><a href="#Use-phpMyAdmin">Use phpMyAdmin</a></li>
<li><a href="#Use-pgAdmin">Use pgAdmin</a></li>
<li><a href="#Use-ElasticSearch">Use ElasticSearch</a></li>
</ul>
</li>
<li>
<a href="#PHP">PHP</a>

<ul>
<li><a href="#Install-PHP-Extensions">Install PHP Extensions</a></li>
<li><a href="#Change-the-PHP-FPM-Version">Change the PHP-FPM Version</a></li>
<li><a href="#Change-the-PHP-CLI-Version">Change the PHP-CLI Version</a></li>
<li>
<a href="#Install-xDebug">Install xDebug</a>

<ul>
<li><a href="#Controll-xDebug">Start/Stop xDebug</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href="#Production">Production</a>

<ul>
<li><a href="#LaraDock-for-Production">Prepare LaraDock for Production</a></li>
<li><a href="#Digital-Ocean">Setup Laravel and Docker on Digital Ocean</a></li>
</ul>
</li>
<li>
<a href="#Misc">Misc</a>

<ul>
<li><a href="#Change-the-timezone">Change the timezone</a></li>
<li><a href="#CronJobs">Cron jobs</a></li>
<li><a href="#MySQL-access-from-host">MySQL access from host</a></li>
<li><a href="#Use-custom-Domain">Use custom Domain</a></li>
<li><a href="#Enable-Global-Composer-Build-Install">Enable Global Composer Build Install</a></li>
<li><a href="#Install-Prestissimo">Install Prestissimo</a></li>
<li><a href="#Install-Node">Install Node + NVM</a></li>
<li><a href="#Install-Yarn">Install Node + YARN</a></li>
<li><a href="#debugging">Debugging</a></li>
<li><a href="#upgrading-laradock">Upgrading LaraDock</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Help">Help &amp; Questions</a></li>
</ul>

<p><a name="Intro"></a></p>

<h2>
<a id="intro" class="anchor" href="#intro" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Intro</h2>

<p>LaraDock strives to make the development experience easier.
It contains pre-packaged Docker Images that provides you a wonderful development environment without requiring you to install PHP, NGINX, MySQL, REDIS, and any other software on your local machine.</p>

<p><strong>Usage Overview:</strong> </p>

<p>Let's see how easy it is to install <code>NGINX</code>, <code>PHP</code>, <code>Composer</code>, <code>MySQL</code> and <code>Redis</code>. Then run <code>Laravel</code>.</p>

<ol>
<li>Get LaraDock inside your Laravel project: 
<br>
<code>git clone https://github.com/LaraDock/laradock.git</code>.</li>
<li>Enter the laradock folder and run only these Containers: 
<br>
<code>docker-compose up -d nginx mysql redis</code>
</li>
<li>Open your <code>.env</code> file and set <code>DB_HOST</code> to <code>mysql</code> and <code>REDIS_HOST</code> to <code>redis</code>.</li>
<li>Open your browser and visit the localhost: <code>http://localdock</code>
</li>
</ol>

<p><a name="features"></a></p>

<h3>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h3>

<ul>
<li>Easy switch between PHP versions: 7.0, 5.6, 5.5...</li>
<li>Choose your favorite database engine: MySQL, Postgres, MariaDB...</li>
<li>Run your own combination of software: Memcached, HHVM, Beanstalkd...</li>
<li>Every software runs on a separate container: PHP-FPM, NGINX, PHP-CLI...</li>
<li>Easy to customize any container, with simple edit to the <code>dockerfile</code>.</li>
<li>All Images extends from an official base Image. (Trusted base Images).</li>
<li>Pre-configured Nginx for Laravel.</li>
<li>Easy to apply configurations inside containers.</li>
<li>Clean and well structured Dockerfiles (<code>dockerfile</code>).</li>
<li>Latest version of the Docker Compose file (<code>docker-compose</code>).</li>
<li>Everything is visible and editable.</li>
<li>Fast Images Builds.</li>
<li>More to come every week..</li>
</ul>

<p><a name="Supported-Containers"></a></p>

<h3>
<a id="supported-software-containers" class="anchor" href="#supported-software-containers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Supported Software (Containers)</h3>

<ul>
<li>
<strong>Database Engines:</strong>

<ul>
<li>MySQL</li>
<li>PostgreSQL</li>
<li>MariaDB</li>
<li>MongoDB</li>
<li>Neo4j</li>
</ul>
</li>
<li>
<strong>Cache Engines:</strong>

<ul>
<li>Redis</li>
<li>Memcached</li>
<li>Aerospike</li>
</ul>
</li>
<li>
<strong>PHP Servers:</strong>

<ul>
<li>NGINX</li>
<li>Apache2</li>
<li>Caddy</li>
</ul>
</li>
<li>
<strong>PHP Compilers:</strong>

<ul>
<li>PHP-FPM</li>
<li>HHVM</li>
</ul>
</li>
<li>
<strong>Message Queueing Systems:</strong>

<ul>
<li>Beanstalkd (+ Beanstalkd Console)</li>
<li>RabbitMQ (+ RabbitMQ Console)</li>
</ul>
</li>
<li>
<strong>Tools:</strong>

<ul>
<li>Workspace (PHP7-CLI, Composer, Git, Node, Gulp, SQLite, Vim, Nano, cURL...)</li>
<li>PhpMyAdmin</li>
<li>PgAdmin</li>
<li>ElasticSearch</li>
</ul>
</li>
</ul>

<blockquote>
<p>If you can't find your Software, build it yourself and add it to this list. Contributions are welcomed :)</p>
</blockquote>

<p><a name="what-is-docker"></a></p>

<h3>
<a id="what-is-docker" class="anchor" href="#what-is-docker" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>What is Docker?</h3>

<p><a href="https://www.docker.com">Docker</a> is an open-source project that automates the deployment of applications inside software containers, by providing an additional layer of abstraction and automation of <a href="https://en.wikipedia.org/wiki/Operating-system-level_virtualization">operating-system-level virtualization</a> on Linux, Mac OS and Windows.</p>

<p><a name="what-is-laravel"></a></p>

<h3>
<a id="what-is-laravel" class="anchor" href="#what-is-laravel" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>What is Laravel?</h3>

<p>Seriously!!!</p>

<p><a name="why-docker-not-vagrant"></a></p>

<h3>
<a id="why-docker-not-vagrant" class="anchor" href="#why-docker-not-vagrant" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Why Docker not Vagrant!?</h3>

<p><a href="https://www.vagrantup.com">Vagrant</a> creates Virtual Machines in minutes while Docker creates Virtual Containers in seconds.</p>

<p>Instead of providing a full Virtual Machines, like you get with Vagrant, Docker provides you <strong>lightweight</strong> Virtual Containers, that share the same kernel and allow to safely execute independent processes.</p>

<p>In addition to the speed, Docker gives tons of features that cannot be achieved with Vagrant.</p>

<p>Most importantly Docker can run on Development and on Production (same environment everywhere). While Vagrant is designed for Development only, (so you have to re-provision your server on Production every time).</p>

<p><a name="laradock-vs-homestead"></a></p>

<h3>
<a id="laradock-vs-homestead" class="anchor" href="#laradock-vs-homestead" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LaraDock VS Homestead</h3>

<p>LaraDock and <a href="https://laravel.com/docs/master/homestead">Homestead</a> both gives you a complete virtual development environments. (Without the need to install and configure every single software on your own Operating System).</p>

<ul>
<li><p>Homestead is a tool that controls Vagrant for you (using Homestead special commands). And Vagrant manages your Virtual Machine.</p></li>
<li><p>LaraDock is a tool that controls Docker for you (using Docker &amp; Docker Compose official commands). And Docker manages your Virtual Containers.</p></li>
</ul>

<p>Running a virtual Container is much faster than running a full virtual Machine. Thus <strong>LaraDock is much faster than Homestead</strong>.</p>

<p><a name="Demo"></a></p>

<h2>
<a id="demo-video" class="anchor" href="#demo-video" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Demo Video</h2>

<p>What's better than a <strong>Demo Video</strong>:</p>

<ul>
<li>LaraDock <a href="https://www.youtube.com/watch?v=TQii1jDa96Y">v4.*</a>
</li>
<li>LaraDock <a href="https://www.youtube.com/watch?v=-DamFMczwDA">v2.*</a>
</li>
<li>LaraDock <a href="https://www.youtube.com/watch?v=jGkyO6Is_aI">v0.3</a>
</li>
<li>LaraDock <a href="https://www.youtube.com/watch?v=3YQsHe6oF80">v0.1</a>
</li>
</ul>

<p><a name="Requirements"></a></p>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requirements</h2>

<ul>
<li><a href="https://git-scm.com/downloads">Git</a></li>
<li>
<a href="https://www.docker.com/products/docker/">Docker</a> <code>&gt;= 1.12</code>
</li>
</ul>

<p><a name="Installation"></a></p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>Clone the <code>LaraDock</code> repository:</p>

<p><strong>A)</strong> If you already have a Laravel project, clone this repository on your <code>Laravel</code> root directory:</p>

<div class="highlight highlight-source-shell"><pre>git submodule add https://github.com/LaraDock/laradock.git</pre></div>

<blockquote>
<p>If you are not already using Git for your Laravel project, you can use <code>git clone</code> instead of <code>git submodule</code>.</p>
</blockquote>

<p>Note: In this case the folder structure will be like this (recommended):</p>

<pre><code>- project1
    - laradock
- project2
    - laradock
</code></pre>

<p><br></p>

<p><strong>B)</strong> If you don't have a Laravel project, and you want to install Laravel from Docker, clone this repo anywhere on your machine:</p>

<div class="highlight highlight-source-shell"><pre>git clone https://github.com/LaraDock/laradock.git</pre></div>

<p>Note: In this case the folder structure will be like this:</p>

<pre><code>- projects
    - laradock
    - project1
    - project2
</code></pre>

<p><strong>Note:</strong> if you are using this folder structure don't forget to edit the <code>docker-compose.yml</code> file to map to your Laravel directory once you have it (example: <code>- ../project1/:/var/www/laravel</code>). "You will need to stop and re-run your docker-compose command for the changes to take place".</p>

<p><a name="Usage"></a></p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p><strong>Read Before starting:</strong></p>

<p>If you are using <strong>Docker Toolbox</strong> (VM), do one of the following:</p>

<ul>
<li>Upgrade to Docker <a href="https://www.docker.com/products/docker">Native</a> for Mac/Windows (Recommended). Check out <a href="#upgrading-laradock">Upgrading Laradock</a>
</li>
<li>Use LaraDock v3.* (Visit the <code>LaraDock-ToolBox</code> <a href="https://github.com/LaraDock/laradock/tree/LaraDock-ToolBox">Branch</a>).</li>
</ul>

<p><br></p>

<blockquote>
<p><strong>Warning:</strong> If you used an older version of LaraDock it's highly recommended to rebuild the containers you need to use <a href="#Build-Re-build-Containers">see how you rebuild a container</a> in order to prevent errors as much as possible.</p>
</blockquote>

<p><br></p>

<p>1 - Run Containers: <em>(Make sure you are in the <code>laradock</code> folder before running the <code>docker-compose</code> commands).</em></p>

<p><strong>Example:</strong> Running NGINX and MySQL:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose up -d  nginx mysql</pre></div>

<p><strong>Note</strong>: The <code>workspace</code> and <code>php-fpm</code> will run automatically in most of the cases, so no need to specify them in the <code>up</code> command. If you couldn't find them running then you need specify them as follow: <code>docker-compose up -d nginx php-fpm mysql workspace</code>.</p>

<p>You can select your own combination of Containers form the list below:</p>

<p><code>nginx</code>, <code>hhvm</code>, <code>php-fpm</code>, <code>mysql</code>, <code>redis</code>, <code>postgres</code>, <code>mariadb</code>, <code>neo4j</code>, <code>mongo</code>, <code>apache2</code>, <code>caddy</code>, <code>memcached</code>, <code>beanstalkd</code>, <code>beanstalkd-console</code>, <code>rabbitmq</code>, <code>workspace</code>, <code>phpmyadmin</code>, <code>aerospike</code>, <code>pgadmin</code>, <code>elasticsearch</code>.</p>

<p><br>
2 - Enter the Workspace container, to execute commands like (Artisan, Composer, PHPUnit, Gulp, ...).</p>

<div class="highlight highlight-source-shell"><pre>docker-compose <span class="pl-c1">exec</span> workspace bash</pre></div>

<p>Alternatively, for Windows Powershell users: execute the following command to enter any running container:</p>

<div class="highlight highlight-source-shell"><pre>docker <span class="pl-c1">exec</span> -it {workspace-container-id} bash</pre></div>

<p><strong>Note:</strong> You can add <code>--user=laradock</code> (example <code>docker-compose exec --user=laradock workspace bash</code>) to have files created as your host's user. (you can change the PUID (User id) and PGID (group id) variables from the <code>docker-compose.yml</code>).</p>

<p><br>
3 - Edit the Laravel configurations.</p>

<p>If you don't have a Laravel project installed yet, see <a href="#Install-Laravel">How to Install Laravel in a Docker Container</a>.</p>

<p>Open your Laravel's <code>.env</code> file and set the <code>DB_HOST</code> to your <code>mysql</code>:</p>

<pre lang="env"><code>DB_HOST=mysql
</code></pre>

<p><br>
4 - Open your browser and visit your localhost address (<code>http://localhost/</code>).</p>

<p><br>
<strong>Debugging</strong>: if you are facing any problem here check the <a href="#debugging">Debugging</a> section.</p>

<p>If you need a special support. Contact me, more details in the <a href="#Help">Help &amp; Questions</a> section.</p>

<p><br>
<a name="Documentation"></a></p>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Documentation</h2>

<p><a name="Docker"></a></p>

<p><a name="List-current-running-Containers"></a></p>

<h3>
<a id="list-current-running-containers" class="anchor" href="#list-current-running-containers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>List current running Containers</h3>

<div class="highlight highlight-source-shell"><pre>docker ps</pre></div>

<p>You can also use the this command if you want to see only this project containers:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose ps</pre></div>

<p><br>
<a name="Close-all-running-Containers"></a></p>

<h3>
<a id="close-all-running-containers" class="anchor" href="#close-all-running-containers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Close all running Containers</h3>

<div class="highlight highlight-source-shell"><pre>docker-compose stop</pre></div>

<p>To stop single container do:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose stop {container-name}</pre></div>

<p><br>
<a name="Delete-all-existing-Containers"></a></p>

<h3>
<a id="delete-all-existing-containers" class="anchor" href="#delete-all-existing-containers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Delete all existing Containers</h3>

<div class="highlight highlight-source-shell"><pre>docker-compose down</pre></div>

<p><em>Note: Careful with this command as it will delete your Data Volume Container as well. (if you want to keep your Database data than you should stop each container by itself as follow):</em></p>

<p><br>
<a name="Enter-Container"></a></p>

<h3>
<a id="enter-a-container-ssh-into-a-running-container" class="anchor" href="#enter-a-container-ssh-into-a-running-container" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enter a Container (SSH into a running Container)</h3>

<p>1 - first list the current running containers with <code>docker ps</code></p>

<p>2 - enter any container using:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose <span class="pl-c1">exec</span> {container-name} bash</pre></div>

<p><em>Example: enter MySQL container</em></p>

<div class="highlight highlight-source-shell"><pre>docker-compose <span class="pl-c1">exec</span> mysql bash</pre></div>

<p>3 - to exit a container, type <code>exit</code>.</p>

<p><br>
<a name="Edit-Container"></a></p>

<h3>
<a id="edit-default-container-configuration" class="anchor" href="#edit-default-container-configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Edit default container configuration</h3>

<p>Open the <code>docker-compose.yml</code> and change anything you want.</p>

<p>Examples:</p>

<p>Change MySQL Database Name:</p>

<div class="highlight highlight-source-yaml"><pre>    <span class="pl-ent">environment:</span>
        <span class="pl-ent">MYSQL_DATABASE:</span> <span class="pl-s">laradock</span>
<span class="pl-s">    ...</span></pre></div>

<p>Change Redis defaut port to 1111:</p>

<div class="highlight highlight-source-yaml"><pre>    <span class="pl-ent">ports:</span>
        - <span class="pl-s"><span class="pl-pds">"</span>1111:6379<span class="pl-pds">"</span></span>
<span class="pl-s">    ...</span></pre></div>

<p><br>
<a name="Edit-a-Docker-Image"></a></p>

<h3>
<a id="edit-a-docker-image" class="anchor" href="#edit-a-docker-image" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Edit a Docker Image</h3>

<p>1 - Find the <code>dockerfile</code> of the image you want to edit,
<br>
example for <code>mysql</code> it will be <code>mysql/Dockerfile</code>.</p>

<p>2 - Edit the file the way you want.</p>

<p>3 - Re-build the container:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose build mysql</pre></div>

<p>More info on Containers rebuilding <a href="#Build-Re-build-Containers">here</a>.</p>

<p><br>
<a name="Build-Re-build-Containers"></a></p>

<h3>
<a id="buildre-build-containers" class="anchor" href="#buildre-build-containers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Build/Re-build Containers</h3>

<p>If you do any change to any <code>dockerfile</code> make sure you run this command, for the changes to take effect:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose build</pre></div>

<p>Optionally you can specify which container to rebuild (instead of rebuilding all the containers):</p>

<div class="highlight highlight-source-shell"><pre>docker-compose build {container-name}</pre></div>

<p>You might use the <code>--no-cache</code> option if you want full rebuilding (<code>docker-compose build --no-cache {container-name}</code>).</p>

<p><br>
<a name="Add-Docker-Images"></a></p>

<h3>
<a id="add-more-software-docker-images" class="anchor" href="#add-more-software-docker-images" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add more Software (Docker Images)</h3>

<p>To add an image (software), just edit the <code>docker-compose.yml</code> and add your container details, to do so you need to be familiar with the <a href="https://docs.docker.com/compose/compose-file/">docker compose file syntax</a>.</p>

<p><br>
<a name="View-the-Log-files"></a></p>

<h3>
<a id="view-the-log-files" class="anchor" href="#view-the-log-files" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>View the Log files</h3>

<p>The Nginx Log file is stored in the <code>logs/nginx</code> directory.</p>

<p>However to view the logs of all the other containers (MySQL, PHP-FPM,...) you can run this:</p>

<div class="highlight highlight-source-shell"><pre>docker logs {container-name}</pre></div>

<p><br>
<a name="Laravel"></a></p>

<p><a name="Install-Laravel"></a></p>

<h3>
<a id="install-laravel-from-a-docker-container" class="anchor" href="#install-laravel-from-a-docker-container" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install Laravel from a Docker Container</h3>

<p>1 - First you need to enter the Workspace Container.</p>

<p>2 - Install Laravel.</p>

<p>Example using Composer</p>

<div class="highlight highlight-source-shell"><pre>composer create-project laravel/laravel my-cool-app <span class="pl-s"><span class="pl-pds">"</span>5.2.*<span class="pl-pds">"</span></span></pre></div>

<blockquote>
<p>We recommend using <code>composer create-project</code> instead of the Laravel installer, to install Laravel.</p>
</blockquote>

<p>For more about the Laravel installation click <a href="https://laravel.com/docs/master#installing-laravel">here</a>.</p>

<p>3 - Edit <code>docker-compose.yml</code> to Map the new application path:</p>

<p>By default LaraDock assumes the Laravel application is living in the parent directory of the laradock folder.</p>

<p>Since the new Laravel application is in the <code>my-cool-app</code> folder, we need to replace <code>../:/var/www/laravel</code> with <code>../my-cool-app/:/var/www/laravel</code>, as follow:</p>

<div class="highlight highlight-source-yaml"><pre>    <span class="pl-ent">application:</span>
        <span class="pl-ent">build:</span> <span class="pl-s">./application</span>
        <span class="pl-ent">volumes:</span>
            - <span class="pl-s">../my-cool-app/:/var/www/laravel</span>
<span class="pl-s">    ...</span></pre></div>

<p>4 - Go to that folder and start working..</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c1">cd</span> my-cool-app</pre></div>

<p>5 - Go back to the laraDock installation steps to see how to edit the <code>.env</code> file.</p>

<p><br>
<a name="Run-Artisan-Commands"></a></p>

<h3>
<a id="run-artisan-commands" class="anchor" href="#run-artisan-commands" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Run Artisan Commands</h3>

<p>You can run artisan commands and many other Terminal commands from the Workspace container.</p>

<p>1 - Make sure you have the workspace container running.</p>

<div class="highlight highlight-source-shell"><pre>docker-compose up -d workspace // ..and all your other containers</pre></div>

<p>2 - Find the Workspace container name:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose ps</pre></div>

<p>3 - Enter the Workspace container:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose <span class="pl-c1">exec</span> workspace bash</pre></div>

<p>Add <code>--user=laradock</code> (example <code>docker-compose exec --user=laradock workspace bash</code>) to have files created as your host's user.</p>

<p>4 - Run anything you want :)</p>

<div class="highlight highlight-source-shell"><pre>php artisan</pre></div>

<div class="highlight highlight-source-shell"><pre>Composer update</pre></div>

<div class="highlight highlight-source-shell"><pre>phpunit</pre></div>

<p><br>
<a name="Use-Redis"></a></p>

<h3>
<a id="use-redis" class="anchor" href="#use-redis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Use Redis</h3>

<p>1 - First make sure you run the Redis Container (<code>redis</code>) with the <code>docker-compose up</code> command.</p>

<div class="highlight highlight-source-shell"><pre>docker-compose up -d redis</pre></div>

<p>2 - Open your Laravel's <code>.env</code> file and set the <code>REDIS_HOST</code> to <code>redis</code></p>

<pre lang="env"><code>REDIS_HOST=redis
</code></pre>

<p>If you don't find the <code>REDIS_HOST</code> variable in your <code>.env</code> file. Go to the database config file <code>config/database.php</code> and replace the default <code>127.0.0.1</code> IP with <code>redis</code> for Redis like this:</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-s"><span class="pl-pds">'</span>redis<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> [</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>cluster<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">false</span>,</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>default<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> [</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>host<span class="pl-pds">'</span></span>     <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>redis<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>port<span class="pl-pds">'</span></span>     <span class="pl-k">=&gt;</span> <span class="pl-c1">6379</span>,</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>database<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">0</span>,</span>
<span class="pl-s1">    ],</span>
<span class="pl-s1">],</span></pre></div>

<p>3 - To enable Redis Caching and/or for Sessions Management. Also from the <code>.env</code> file set <code>CACHE_DRIVER</code> and <code>SESSION_DRIVER</code> to <code>redis</code> instead of the default <code>file</code>.</p>

<pre lang="env"><code>CACHE_DRIVER=redis
SESSION_DRIVER=redis
</code></pre>

<p>4 - Finally make sure you have the <code>predis/predis</code> package <code>(~1.0)</code> installed via Composer:</p>

<div class="highlight highlight-source-shell"><pre>composer require predis/predis:^1.0</pre></div>

<p>5 - You can manually test it from Laravel with this code:</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c1">\</span><span class="pl-c1">Cache</span><span class="pl-k">::</span>store(<span class="pl-s"><span class="pl-pds">'</span>redis<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>put(<span class="pl-s"><span class="pl-pds">'</span>LaraDock<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Awesome<span class="pl-pds">'</span></span>, <span class="pl-c1">10</span>);</span></pre></div>

<p><br>
<a name="Use-Mongo"></a></p>

<h3>
<a id="use-mongo" class="anchor" href="#use-mongo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Use Mongo</h3>

<p>1 - First install <code>mongo</code> in the Workspace and the PHP-FPM Containers:
<br>
a) open the <code>docker-compose.yml</code> file
<br>
b) search for the <code>INSTALL_MONGO</code> argument under the Workspace Container
<br>
c) set it to <code>true</code>
<br>
d) search for the <code>INSTALL_MONGO</code> argument under the PHP-FPM Container
<br>
e) set it to <code>true</code></p>

<p>It should be like this:</p>

<div class="highlight highlight-source-yaml"><pre>    <span class="pl-ent">workspace:</span>
        <span class="pl-ent">build:</span>
            <span class="pl-ent">context:</span> <span class="pl-s">./workspace</span>
            <span class="pl-ent">args:</span>
                - <span class="pl-s">INSTALL_MONGO=true</span>
<span class="pl-s">    ...</span>
    <span class="pl-ent">php-fpm:</span>
        <span class="pl-ent">build:</span>
            <span class="pl-ent">context:</span> <span class="pl-s">./php-fpm</span>
            <span class="pl-ent">args:</span>
                - <span class="pl-s">INSTALL_MONGO=true</span>
<span class="pl-s">    ...</span></pre></div>

<p>2 - Re-build the containers <code>docker-compose build workspace php-fpm</code></p>

<p>3 - Run the MongoDB Container (<code>mongo</code>) with the <code>docker-compose up</code> command.</p>

<div class="highlight highlight-source-shell"><pre>docker-compose up -d mongo</pre></div>

<p>4 - Add the MongoDB configurations to the <code>config/database.php</code> config file:</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-s"><span class="pl-pds">'</span>connections<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> [</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>mongodb<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> [</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>driver<span class="pl-pds">'</span></span>   <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>mongodb<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>host<span class="pl-pds">'</span></span>     <span class="pl-k">=&gt;</span> env(<span class="pl-s"><span class="pl-pds">'</span>DB_HOST<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>localhost<span class="pl-pds">'</span></span>),</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>port<span class="pl-pds">'</span></span>     <span class="pl-k">=&gt;</span> env(<span class="pl-s"><span class="pl-pds">'</span>DB_PORT<span class="pl-pds">'</span></span>, <span class="pl-c1">27017</span>),</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>database<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> env(<span class="pl-s"><span class="pl-pds">'</span>DB_DATABASE<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>database<span class="pl-pds">'</span></span>),</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>password<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>options<span class="pl-pds">'</span></span>  <span class="pl-k">=&gt;</span> [</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>database<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">        ]</span>
<span class="pl-s1">    ],</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">// ...</span></span>
<span class="pl-s1"></span>
<span class="pl-s1">],</span></pre></div>

<p>5 - Open your Laravel's <code>.env</code> file and update the following variables:</p>

<ul>
<li>set the <code>DB_HOST</code> to your <code>mongo</code>.</li>
<li>set the <code>DB_PORT</code> to <code>27017</code>.</li>
<li>set the <code>DB_DATABASE</code> to <code>database</code>.</li>
</ul>

<p>6 - Finally make sure you have the <code>jenssegers/mongodb</code> package installed via Composer and its Service Provider is added.</p>

<div class="highlight highlight-source-shell"><pre>composer require jenssegers/mongodb</pre></div>

<p>More details about this <a href="https://github.com/jenssegers/laravel-mongodb#installation">here</a>.</p>

<p>7 - Test it:</p>

<ul>
<li>First let your Models extend from the Mongo Eloquent Model. Check the <a href="https://github.com/jenssegers/laravel-mongodb#eloquent">documentation</a>.</li>
<li>Enter the Workspace Container.</li>
<li>Migrate the Database <code>php artisan migrate</code>.</li>
</ul>

<p><br>
<a name="Use-phpMyAdmin"></a></p>

<h3>
<a id="use-phpmyadmin" class="anchor" href="#use-phpmyadmin" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Use phpMyAdmin</h3>

<p>1 - Run the phpMyAdmin Container (<code>phpmyadmin</code>) with the <code>docker-compose up</code> command. Example:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># use with mysql</span>
docker-compose up -d mysql phpmyadmin

<span class="pl-c"># use with mariadb</span>
docker-compose up -d mariadb phpmyadmin</pre></div>

<p>2 - Open your browser and visit the localhost on port <strong>8080</strong>:  <code>http://localhost:8080</code></p>

<p><br>
<a name="Use-pgAdmin"></a></p>

<h3>
<a id="use-pgadmin" class="anchor" href="#use-pgadmin" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Use pgAdmin</h3>

<p>1 - Run the pgAdmin Container (<code>pgadmin</code>) with the <code>docker-compose up</code> command. Example:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose up -d postgres pgadmin</pre></div>

<p>2 - Open your browser and visit the localhost on port <strong>5050</strong>:  <code>http://localhost:5050</code></p>

<p><br>
<a name="Use-ElasticSearch"></a></p>

<h3>
<a id="use-elasticsearch" class="anchor" href="#use-elasticsearch" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Use ElasticSearch</h3>

<p>1 - Run the ElasticSearch Container (<code>elasticsearch</code>) with the <code>docker-compose up</code> command. Example:</p>

<div class="highlight highlight-source-shell"><pre>docker-compose up -d elasticsearch</pre></div>

<p>2 - Open your browser and visit the localhost on port <strong>9200</strong>:  <code>http://localhost:9200</code></p>

<p><br>
<a name="PHP"></a></p>

<p><a name="Install-PHP-Extensions"></a></p>

<h3>
<a id="install-php-extensions" class="anchor" href="#install-php-extensions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install PHP Extensions</h3>

<p>Before installing PHP extensions, you have to decide whether you need for the <code>FPM</code> or <code>CLI</code> because each lives on a different container, if you need it for both you have to edit both containers.</p>

<p>The PHP-FPM extensions should be installed in <code>php-fpm/Dockerfile-XX</code>. <em>(replace XX with your default PHP version number)</em>.
<br>
The PHP-CLI extensions should be installed in <code>workspace/Dockerfile</code>.</p>

<p><br>
<a name="Change-the-PHP-FPM-Version"></a></p>

<h3>
<a id="change-the-php-fpm-version" class="anchor" href="#change-the-php-fpm-version" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Change the (PHP-FPM) Version</h3>

<p>By default <strong>PHP-FPM 7.0</strong> is running.</p>

<blockquote>
<p>The PHP-FPM is responsible of serving your application code, you don't have to change the PHP-CLI version if you are planing to run your application on different PHP-FPM version.</p>
</blockquote>

<h4>
<a id="a-switch-from-php-70-to-php-56" class="anchor" href="#a-switch-from-php-70-to-php-56" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>A) Switch from PHP <code>7.0</code> to PHP <code>5.6</code>
</h4>

<p>1 - Open the <code>docker-compose.yml</code>.</p>

<p>2 - Search for <code>Dockerfile-70</code> in the PHP container section.</p>

<p>3 - Change the version number, by replacing <code>Dockerfile-70</code> with <code>Dockerfile-56</code>, like this:</p>

<div class="highlight highlight-source-yaml"><pre>    <span class="pl-ent">php-fpm:</span>
        <span class="pl-ent">build:</span>
            <span class="pl-ent">context:</span> <span class="pl-s">./php-fpm</span>
            <span class="pl-ent">dockerfile:</span> <span class="pl-s">Dockerfile-70</span>
<span class="pl-s">    ...</span></pre></div>

<p>4 - Finally rebuild the container</p>

<div class="highlight highlight-source-shell"><pre>docker-compose build php</pre></div>

<blockquote>
<p>For more details about the PHP base image, visit the <a href="https://hub.docker.com/_/php/">official PHP docker images</a>.</p>
</blockquote>

<h4>
<a id="b-switch-from-php-70-or-56-to-php-55" class="anchor" href="#b-switch-from-php-70-or-56-to-php-55" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>B) Switch from PHP <code>7.0</code> or <code>5.6</code> to PHP <code>5.5</code>
</h4>

<p>We do not natively support PHP 5.5 anymore, but you can get it in few steps:</p>

<p>1 - Clone <code>https://github.com/LaraDock/php-fpm</code>.</p>

<p>3 - Rename <code>Dockerfile-56</code> to <code>Dockerfile-55</code>.</p>

<p>3 - Edit the file <code>FROM php:5.6-fpm</code> to <code>FROM php:5.5-fpm</code>.</p>

<p>4 - Build an image from <code>Dockerfile-55</code>.</p>

<p>5 - Open the <code>docker-compose.yml</code> file.</p>

<p>6 - Point <code>php-fpm</code> to your <code>Dockerfile-55</code> file.</p>

<p><br>
<a name="Change-the-PHP-CLI-Version"></a></p>

<h3>
<a id="change-the-php-cli-version" class="anchor" href="#change-the-php-cli-version" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Change the PHP-CLI Version</h3>

<p>By default <strong>PHP-CLI 7.0</strong> is running.</p>

<blockquote>
<p>Note: it's not very essential to edit the PHP-CLI verion. The PHP-CLI is only used for the Artisan Commands &amp; Composer. It doesn't serve your Application code, this is the PHP-FPM job.</p>
</blockquote>

<p>The PHP-CLI is installed in the Workspace container. To change the PHP-CLI version you need to edit the <code>workspace/Dockerfile</code>.</p>

<p>Right now you have to manually edit the <code>Dockerfile</code> or create a new one like it's done for the PHP-FPM. (consider contributing).</p>

<p><br>
<a name="Install-xDebug"></a></p>

<h3>
<a id="install-xdebug" class="anchor" href="#install-xdebug" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install xDebug</h3>

<p>1 - First install <code>xDebug</code> in the Workspace and the PHP-FPM Containers:
<br>
a) open the <code>docker-compose.yml</code> file
<br>
b) search for the <code>INSTALL_XDEBUG</code> argument under the Workspace Container
<br>
c) set it to <code>true</code>
<br>
d) search for the <code>INSTALL_XDEBUG</code> argument under the PHP-FPM Container
<br>
e) set it to <code>true</code></p>

<p>It should be like this:</p>

<div class="highlight highlight-source-yaml"><pre>    <span class="pl-ent">workspace:</span>
        <span class="pl-ent">build:</span>
            <span class="pl-ent">context:</span> <span class="pl-s">./workspace</span>
            <span class="pl-ent">args:</span>
                - <span class="pl-s">INSTALL_XDEBUG=true</span>
<span class="pl-s">    ...</span>
    <span class="pl-ent">php-fpm:</span>
        <span class="pl-ent">build:</span>
            <span class="pl-ent">context:</span> <span class="pl-s">./php-fpm</span>
            <span class="pl-ent">args:</span>
                - <span class="pl-s">INSTALL_XDEBUG=true</span>
<span class="pl-s">    ...</span></pre></div>

<p>2 - Re-build the containers <code>docker-compose build workspace php-fpm</code></p>

<p>3 - Open <code>laradock/workspace/xdebug.ini</code> and/or <code>laradock/php-fpm/xdebug.ini</code> and enable at least the following configs:</p>

<pre><code>xdebug.remote_autostart=1
xdebug.remote_enable=1
xdebug.remote_connect_back=1
</code></pre>

<p>For information on how to configure xDebug with your IDE and work it out, check this <a href="https://github.com/LarryEitel/laravel-laradock-phpstorm">Repository</a>.</p>

<p><br>
<a name="Controll-xDebug"></a></p>

<h3>
<a id="startstop-xdebug" class="anchor" href="#startstop-xdebug" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Start/Stop xDebug:</h3>

<p>By installing xDebug, you are enabling it to run on startup by default.</p>

<p>To controll the behavior of xDebug (in the <code>php-fpm</code> Container), you can run the following commands from the LaraDock root folder:</p>

<ul>
<li>Stop xDebug from running by default: <code>./xdebugPhpFpm stop</code>.</li>
<li>Start xDebug by default: <code>./xdebugPhpFpm start</code>.</li>
<li>See the status: <code>./xdebugPhpFpm status</code>.</li>
</ul>

<p><br>
<a name="Production"></a></p>

<p><br>
<a name="LaraDock-for-Production"></a></p>

<h3>
<a id="prepare-laradock-for-production" class="anchor" href="#prepare-laradock-for-production" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Prepare LaraDock for Production</h3>

<p>It's recommended for production to create a custom <code>docker-compose.yml</code> file. For that reason LaraDock is shipped with <code>production-docker-compose.yml</code> which should contain only the containers you are planning to run on production (usage exampe: <code>docker-compose -f production-docker-compose.yml up -d nginx mysql redis ...</code>). </p>

<p>Note: The Database (MySQL/MariaDB/...) ports should not be forwarded on production, because Docker will automatically publish the port on the host, which is quite insecure, unless specifically told not to. So make sure to remove these lines:</p>

<pre><code>ports:
    - "3306:3306"
</code></pre>

<p>To learn more about how Docker publishes ports, please read <a href="https://fralef.me/docker-and-iptables.html">this excellent post on the subject</a>.</p>

<p><br>
<a name="Digital-Ocean"></a></p>

<h3>
<a id="setup-laravel-and-docker-on-digital-ocean" class="anchor" href="#setup-laravel-and-docker-on-digital-ocean" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Setup Laravel and Docker on Digital Ocean</h3>

<h4>
<a id="full-guide-here" class="anchor" href="#full-guide-here" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><a href="https://github.com/LaraDock/laradock/blob/master/_guides/digital_ocean.md">Full Guide Here</a>
</h4>

<p><br>
<a name="Misc"></a></p>

<p><br></p>

<p><a name="Change-the-timezone"></a></p>

<h3>
<a id="change-the-timezone" class="anchor" href="#change-the-timezone" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Change the timezone</h3>

<p>To change the timezone for the <code>workspace</code> container, modify the <code>TZ</code> build argument in the Docker Compose file to one in the <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">TZ database</a>.</p>

<p>For example, if I want the timezone to be <code>New York</code>:</p>

<div class="highlight highlight-source-yaml"><pre>    <span class="pl-ent">workspace:</span>
        <span class="pl-ent">build:</span>
            <span class="pl-ent">context:</span> <span class="pl-s">./workspace</span>
            <span class="pl-ent">args:</span>
                - <span class="pl-s">TZ=America/New_York</span>
<span class="pl-s">    ...</span></pre></div>

<p>We also recommend <a href="http://www.camroncade.com/managing-timezones-with-laravel/">setting the timezone in Laravel</a>.</p>

<p><a name="CronJobs"></a></p>

<h3>
<a id="adding-cron-jobs" class="anchor" href="#adding-cron-jobs" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Adding cron jobs</h3>

<p>You can add your cron jobs to <code>workspace/crontab/root</code> after the <code>php artisan</code> line.</p>

<pre><code>* * * * * php /var/www/laravel/artisan schedule:run &gt;&gt; /dev/null 2&gt;&amp;1

# Custom cron
* * * * * root echo "Every Minute" &gt; /var/log/cron.log 2&gt;&amp;1
</code></pre>

<p>Make sure you <a href="#Change-the-timezone">change the timezone</a> if you don't want to use the default (UTC).</p>

<p><a name="MySQL-access-from-host"></a></p>

<h3>
<a id="mysql-access-from-host" class="anchor" href="#mysql-access-from-host" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MySQL access from host</h3>

<p>You can forward the MySQL/MariaDB port to your host by making sure these lines are added to the <code>mysql</code> or <code>mariadb</code> section of the <code>docker-compose.yml</code> or in your <a href="https://docs.docker.com/compose/extends/">environment specific Compose</a> file.</p>

<pre><code>ports:
    - "3306:3306"
</code></pre>

<p><a name="Use-custom-Domain"></a></p>

<h3>
<a id="use-custom-domain-instead-of-the-docker-ip" class="anchor" href="#use-custom-domain-instead-of-the-docker-ip" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Use custom Domain (instead of the Docker IP)</h3>

<p>Assuming your custom domain is <code>laravel.dev</code></p>

<p>1 - Open your <code>/etc/hosts</code> file and map your localhost address <code>127.0.0.1</code> to the <code>laravel.dev</code> domain, by adding the following:</p>

<div class="highlight highlight-source-shell"><pre>127.0.0.1    laravel.dev</pre></div>

<p>2 - Open your browser and visit <code>{http://laravel.dev}</code></p>

<p>Optionally you can define the server name in the nginx config file, like this:</p>

<pre lang="conf"><code>server_name laravel.dev;
</code></pre>

<p><br>
<a name="Enable-Global-Composer-Build-Install"></a></p>

<h3>
<a id="enable-global-composer-build-install" class="anchor" href="#enable-global-composer-build-install" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enable Global Composer Build Install</h3>

<p>Enabling Global Composer Install during the build for the container allows you to get your composer requirements installed and available in the container after the build is done.</p>

<p>1 - open the <code>docker-compose.yml</code> file</p>

<p>2 - search for the <code>COMPOSER_GLOBAL_INSTALL</code> argument under the Workspace Container and set it to <code>true</code></p>

<p>It should be like this:</p>

<div class="highlight highlight-source-yaml"><pre>    <span class="pl-ent">workspace:</span>
        <span class="pl-ent">build:</span>
            <span class="pl-ent">context:</span> <span class="pl-s">./workspace</span>
            <span class="pl-ent">args:</span>
                - <span class="pl-s">COMPOSER_GLOBAL_INSTALL=true</span>
<span class="pl-s">    ...</span></pre></div>

<p>3 - now add your dependencies to <code>workspace/composer.json</code></p>

<p>4 - rebuild the Workspace Container <code>docker-compose build workspace</code></p>

<p><br>
<a name="Install-Prestissimo"></a></p>

<h3>
<a id="install-prestissimo" class="anchor" href="#install-prestissimo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install Prestissimo</h3>

<p><a href="https://github.com/hirak/prestissimo">Prestissimo</a> is a plugin for composer which enables parallel install functionality.</p>

<p>1 - Enable Running Global Composer Install during the Build:</p>

<p>Click on this <a href="#Enable-Global-Composer-Build-Install">Enable Global Composer Build Install</a> and do steps 1 and 2 only then continue here.</p>

<p>2 - Add prestissimo as requirement in Composer:</p>

<p>a - now open the <code>workspace/composer.json</code> file</p>

<p>b - add <code>"hirak/prestissimo": "^0.3"</code> as requirement</p>

<p>c - rebuild the Workspace Container <code>docker-compose build workspace</code></p>

<p><br>
<a name="Install-Node"></a></p>

<h3>
<a id="install-node--nvm" class="anchor" href="#install-node--nvm" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install Node + NVM</h3>

<p>To install NVM and NodeJS in the Workspace container</p>

<p>1 - Open the <code>docker-compose.yml</code> file</p>

<p>2 - Search for the <code>INSTALL_NODE</code> argument under the Workspace Container and set it to <code>true</code></p>

<p>It should be like this:</p>

<div class="highlight highlight-source-yaml"><pre>    <span class="pl-ent">workspace:</span>
        <span class="pl-ent">build:</span>
            <span class="pl-ent">context:</span> <span class="pl-s">./workspace</span>
            <span class="pl-ent">args:</span>
                - <span class="pl-s">INSTALL_NODE=true</span>
<span class="pl-s">    ...</span></pre></div>

<p>3 - Re-build the container <code>docker-compose build workspace</code></p>

<p><br>
<a name="Install-Yarn"></a></p>

<h3>
<a id="install-node--yarn" class="anchor" href="#install-node--yarn" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install Node + YARN</h3>

<p>Yarn is a new package manager for JavaScript. It is so faster than npm, which you can find <a href="http://yarnpkg.com/en/compare">here</a>.To install NodeJS and <a href="https://yarnpkg.com/">Yarn</a> in the Workspace container:</p>

<p>1 - Open the <code>docker-compose.yml</code> file</p>

<p>2 - Search for the <code>INSTALL_NODE</code> and <code>INSTALL_YARN</code> argument under the Workspace Container and set it to <code>true</code></p>

<p>It should be like this:</p>

<div class="highlight highlight-source-yaml"><pre>    <span class="pl-ent">workspace:</span>
        <span class="pl-ent">build:</span>
            <span class="pl-ent">context:</span> <span class="pl-s">./workspace</span>
            <span class="pl-ent">args:</span>
                - <span class="pl-s">INSTALL_NODE=true</span>
                - <span class="pl-s">INSTALL_YARN=true</span>
<span class="pl-s">    ...</span></pre></div>

<p>3 - Re-build the container <code>docker-compose build workspace</code></p>

<p><br>
<a name="Install-Aerospike-Extension"></a></p>

<h3>
<a id="install-aerospike-extension" class="anchor" href="#install-aerospike-extension" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install Aerospike extension</h3>

<p>1 - First install <code>aerospike</code> in the Workspace and the PHP-FPM Containers:
<br>
a) open the <code>docker-compose.yml</code> file
<br>
b) search for the <code>INSTALL_AEROSPIKE_EXTENSION</code> argument under the Workspace Container
<br>
c) set it to <code>true</code>
<br>
d) search for the <code>INSTALL_AEROSPIKE_EXTENSION</code> argument under the PHP-FPM Container
<br>
e) set it to <code>true</code></p>

<p>It should be like this:</p>

<div class="highlight highlight-source-yaml"><pre>    <span class="pl-ent">workspace:</span>
        <span class="pl-ent">build:</span>
            <span class="pl-ent">context:</span> <span class="pl-s">./workspace</span>
            <span class="pl-ent">args:</span>
                - <span class="pl-s">INSTALL_AEROSPIKE_EXTENSION=true</span>
<span class="pl-s">    ...</span>
    <span class="pl-ent">php-fpm:</span>
        <span class="pl-ent">build:</span>
            <span class="pl-ent">context:</span> <span class="pl-s">./php-fpm</span>
            <span class="pl-ent">args:</span>
                - <span class="pl-s">INSTALL_AEROSPIKE_EXTENSION=true</span>
<span class="pl-s">    ...</span></pre></div>

<p>2 - Re-build the containers <code>docker-compose build workspace php-fpm</code></p>

<p><br>
<a name="debugging"></a></p>

<h3>
<a id="debugging" class="anchor" href="#debugging" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Debugging</h3>

<p><em>Here's a list of the common problems you might face, and the possible solutions.</em></p>

<h4>
<a id="i-see-a-blank-white-page-instead-of-the-laravel-welcome-page" class="anchor" href="#i-see-a-blank-white-page-instead-of-the-laravel-welcome-page" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>I see a blank (white) page instead of the Laravel 'Welcome' page!</h4>

<p>Run the following command from the Laravel root directory:</p>

<div class="highlight highlight-source-shell"><pre>sudo chmod -R 777 storage bootstrap/cache</pre></div>

<h4>
<a id="i-see-welcome-to-nginx-instead-of-the-laravel-app" class="anchor" href="#i-see-welcome-to-nginx-instead-of-the-laravel-app" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>I see "Welcome to nginx" instead of the Laravel App!</h4>

<p>Use <code>http://127.0.0.1</code> instead of <code>http://localhost</code> in your browser.</p>

<h4>
<a id="i-see-an-error-message-containing-address-already-in-use" class="anchor" href="#i-see-an-error-message-containing-address-already-in-use" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>I see an error message containing <code>address already in use</code>
</h4>

<p>Make sure the ports for the services that you are trying to run (80, 3306, etc.) are not being used already by other programs, such as a built in <code>apache</code>/<code>httpd</code> service or other development tools you have installed.</p>

<h4>
<a id="i-get-nginx-error-404-not-found-on-windows" class="anchor" href="#i-get-nginx-error-404-not-found-on-windows" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>I get Nginx error 404 Not Found on Windows.</h4>

<ol>
<li>Go to docker Settings on your Windows machine. </li>
<li>Click on the <code>Shared Drives</code> tab and check the drive that contains your project files.</li>
<li>Enter your windows username and password.</li>
<li>Go to the <code>reset</code> tab and click restart docker.</li>
</ol>

<h4>
<a id="i-get-mysql-connection-refused" class="anchor" href="#i-get-mysql-connection-refused" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>I get Mysql connection refused</h4>

<p>This error is sometimes happens because your Laravel application isn't running on the container localhost IP (Which is 127.0.0.1). Steps to fix it:</p>

<ol>
<li>Check your running Laravel application IP by dumping <code>Request::ip()</code> variable using <code>dd(Request::ip())</code> anywhere on your application. The result is the IP of your Laravel container.</li>
<li>Change the <code>DB_HOST</code> variable on env with the IP that you received from previous step.</li>
</ol>

<p><br>
<a name="upgrading-laradock"></a></p>

<h3>
<a id="upgrading-laradock" class="anchor" href="#upgrading-laradock" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Upgrading LaraDock</h3>

<p>Moving from Docker Toolbox (VirtualBox) to Docker Native (for Mac/Windows). Requires upgrading LaraDock from v3.* to v4.*:</p>

<ol>
<li>Stop the docker vm <code>docker-machine stop {default}</code>
</li>
<li>Install Docker for <a href="https://docs.docker.com/docker-for-mac/">Mac</a> or <a href="https://docs.docker.com/docker-for-windows/">Windows</a>.</li>
<li>Upgrade LaraDock to <code>v4.*.*</code> (<code>git pull origin master</code>)</li>
<li>Use LaraDock as you used to do: <code>docker-compose up -d nginx mysql</code>.</li>
</ol>

<p><strong>Note:</strong> If you face any problem with the last step above: rebuild all your containers 
<code>docker-compose build --no-cache</code>
"Warnning Containers Data might be lost!"</p>

<p><br></p>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h2>

<p>This little project was built by one man who has a full time job and many responsibilities, so if you like this project and you find that it needs a bug fix or support for new software or upgrade any container, or anything else.. Do not hesitate to contribute, you are more than welcome :)</p>

<h4>
<a id="read-the-contribution-guidelines" class="anchor" href="#read-the-contribution-guidelines" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Read the <a href="https://github.com/LaraDock/laradock/blob/master/CONTRIBUTING.md">Contribution Guidelines</a>.</h4>

<p><a name="Help"></a></p>

<h2>
<a id="help--questions" class="anchor" href="#help--questions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Help &amp; Questions</h2>

<p>Join the chat room on <a href="https://gitter.im/LaraDock/laradock">Gitter</a> and get help and support from the community.</p>

<p>You can as well can open an <a href="https://github.com/laradock/laradock/issues">issue</a> on Github (will be labeled as Question) and discuss it with people on <a href="https://gitter.im/LaraDock/laradock">Gitter</a>.</p>

<p>For special help with Docker and/or Laravel, you can schedule a live call with the creator of this project at <a href="https://www.codementor.io/mahmoudz">Codementor.io</a>.</p>

<h2>
<a id="credits" class="anchor" href="#credits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Credits</h2>

<p><strong>Creator:</strong></p>

<ul>
<li>
<a href="https://github.com/Mahmoudz">Mahmoud Zalt</a>  [ <a href="https://twitter.com/Mahmoud_Zalt">Twitter</a> | <a href="http://zalt.me">Personal Site</a> | <a href="https://www.linkedin.com/in/mahmoudzalt">Linkedin</a> ]</li>
</ul>

<p><strong>Admins:</strong></p>

<ul>
<li>
<a href="https://github.com/appleboy">Bo-Yi Wu</a> (appleboy)</li>
<li>
<a href="https://github.com/philtrep">Philippe Trpanier</a> (philtrep)</li>
</ul>

<p><strong>Main Contributors:</strong></p>

<ul>
<li>
<a href="https://github.com/francislavoie">Francis Lavoie</a> (francislavoie)</li>
<li><a href="https://github.com/luciano-jr">luciano-jr</a></li>
<li><a href="https://github.com/zhqagp">Zhqagp</a></li>
<li>
<a href="https://github.com/tjb328">Tim B.</a> (tjb328)</li>
<li><a href="https://github.com/midascodebreaker">MidasCodeBreaker</a></li>
<li><a href="https://github.com/LarryEitel">Larry Eitel</a></li>
<li>
<a href="https://github.com/tianissimo">Suteepat</a> (tianissimo)</li>
<li>
<a href="https://github.com/davidavz">David</a> (davidavz)</li>
<li><a href="https://github.com/lialosiu">Lialosiu</a></li>
<li>
<a href="https://github.com/computerfr33k">Eric Pfeiffer</a> (computerfr33k)</li>
<li><a href="https://github.com/orette">Orette</a></li>
<li>
<a href="https://github.com/Kauhat">Jack Fletcher</a> (Kauhat)</li>
<li><a href="https://github.com/AminMkh">Amin Mkh</a></li>
<li>
<a href="https://github.com/mattythebatty">Matthew Tonkin Dunn</a> (mattythebatty)</li>
<li>
<a href="https://github.com/zhikiri">Zhivitsa Kirill</a> (zhikiri)</li>
<li><a href="https://github.com/benmag">Benmag</a></li>
</ul>

<p><strong>Other Contributors &amp; Supporters:</strong></p>

<ul>
<li><a href="https://github.com/LaraDock/laradock/graphs/contributors">Contributors</a></li>
<li><a href="https://github.com/LaraDock/laradock/issues?utf8=%E2%9C%93&amp;q=">Supporters</a></li>
</ul>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p><a href="https://github.com/laradock/laradock/blob/master/LICENSE">MIT License</a> (MIT)</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/LaraDock/laradock">LaraDock</a> is maintained by <a href="https://github.com/LaraDock">LaraDock</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
